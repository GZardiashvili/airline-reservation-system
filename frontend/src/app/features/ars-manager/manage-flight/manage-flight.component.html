<div class="grid">
  <div class="app-airline-details">
    <ng-container *ngIf="view==='details'; else EditOrCreate">
      <app-details [details]="flight$ | async" (onClick)="editView()"></app-details>
    </ng-container>
  </div>
  <div class="app-airline__list">
    <ng-container *ngFor="let flight of flights$ | async">

      <app-admin-list *ngIf="flight._id" [item]="flight" [filters]="status"
                      [headers]="headers" (onClick)="showDetails(); getFlight(flight._id)"></app-admin-list>
    </ng-container>
  </div>
</div>

<ng-template #EditOrCreate>
  <div class="app-airline app-airline__form">
    <span class="flex">
    <h5>Set flight number</h5>
    <input type="text" pInputText [(ngModel)]="flightObj.flightNumber"/>
    </span>
    <span class="flex">
    <h5>Choose Airways</h5>
    <p-autoComplete [(ngModel)]="flightObj.airlineId" [suggestions]="flightObj.results"
                    (completeMethod)="chooseAirlines($event)"
                    [dropdown]="true">
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Choose Plane</h5>
    <p-autoComplete [(ngModel)]="flightObj.planeId" [suggestions]="flightObj.results"
                    (completeMethod)="choosePlane($event)"
                    [dropdown]="true">
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Departure City</h5>
    <p-autoComplete [(ngModel)]="flightObj.departureCity" [suggestions]="flightObj.results"
                    (completeMethod)="chooseDestinations($event)"
    >
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Departure Airport</h5>
    <p-autoComplete [(ngModel)]="flightObj.departureAirport" [suggestions]="flightObj.results"
                    (completeMethod)="chooseAirport($event)"
    >
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Arrival City</h5>
    <p-autoComplete [(ngModel)]="flightObj.arrivalCity" [suggestions]="flightObj.results"
                    (completeMethod)="chooseDestinations($event)"
    >
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Arrival Airport</h5>
    <p-autoComplete [(ngModel)]="flightObj.arrivalAirport" [suggestions]="flightObj.results"
                    (completeMethod)="chooseAirport($event)"
    >
    </p-autoComplete>
    </span>
    <span class="flex">
    <h5>Departure Date</h5>
    <p-calendar [(ngModel)]="flightObj.departureTime" [showTime]="true" inputId="time"></p-calendar>
    </span>
    <span class="flex">
    <h5>Arrival Date</h5>
    <p-calendar [(ngModel)]="flightObj.arrivalTime" [showTime]="true" inputId="time"></p-calendar>
    </span>
    <button mat-raised-button class="app-airline__button" color="primary"
            (click)="addFlight()">Save
    </button>
  </div>
</ng-template>
